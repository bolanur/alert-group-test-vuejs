(function(t){function n(n){for(var o,c,s=n[0],i=n[1],u=n[2],d=0,h=[];d<s.length;d++)c=s[d],r[c]&&h.push(r[c][0]),r[c]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);l&&l(n);while(h.length)h.shift()();return e.push.apply(e,u||[]),a()}function a(){for(var t,n=0;n<e.length;n++){for(var a=e[n],o=!0,s=1;s<a.length;s++){var i=a[s];0!==r[i]&&(o=!1)}o&&(e.splice(n--,1),t=c(c.s=a[0]))}return t}var o={},r={app:0},e=[];function c(n){if(o[n])return o[n].exports;var a=o[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=o,c.d=function(t,n,a){c.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,n){if(1&n&&(t=c(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)c.d(a,o,function(n){return t[n]}.bind(null,o));return a},c.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(n,"a",n),n},c.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=n,s=s.slice();for(var u=0;u<s.length;u++)n(s[u]);var l=i;e.push([0,"chunk-vendors"]),a()})({0:function(t,n,a){t.exports=a("56d7")},1:function(t,n){},"34eb":function(t,n,a){"use strict";var o=a("c695"),r=a.n(o);r.a},"48cc":function(t,n,a){"use strict";var o=a("e028"),r=a.n(o);r.a},"56d7":function(t,n,a){"use strict";a.r(n);a("cadf"),a("551c"),a("f751"),a("097d");var o=a("2b0e"),r=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("section",{attrs:{id:"app"}},[a("h1",[t._v("Стороны и объект договора")]),a("form",{staticClass:"form"},[a("p",{staticClass:"form_header"},[t._v("Участник договора")]),t._l(t.contractors,function(n,o){return a("contractor-data",{key:o,attrs:{id:o,name:n.name,phone:n.phone},on:{return_contractor_data:t.addReturnContractor}})}),a("div",{staticClass:"button",on:{click:t.addContractor}},[t._v("+")]),a("p",{staticClass:"form_header"},[t._v("Вид собственности")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.activeOption,expression:"activeOption"}],staticClass:"selector",on:{change:function(n){var a=Array.prototype.filter.call(n.target.options,function(t){return t.selected}).map(function(t){var n="_value"in t?t._value:t.value;return n});t.activeOption=n.target.multiple?a:a[0]}}},t._l(t.options,function(n){return a("option",{domProps:{value:n.value}},[t._v("\n\t\t\t\t"+t._s(n.text)+"\n\t\t\t")])}),0),t.activeOption?a("object-data",{attrs:{change:t.activeOption},on:{return_object_data:t.addReturnObjectData}}):t._e(),a("table-rooms",{attrs:{change:t.activeOption},on:{return_table_rows:t.addReturnTableRows}}),a("div",{staticClass:"button_wrapper"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.send}},[t._v("Send")]),a("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.dataGenerator}},[t._v("Load")])])],2)])},e=[],c=a("f499"),s=a.n(c),i=(a("7f7f"),a("ac6a"),function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"contractor_wrapper"},[a("div",{staticClass:"text_field_wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contractor_name,expression:"contractor_name"}],staticClass:"text_field",attrs:{type:"text"},domProps:{value:t.contractor_name},on:{input:function(n){n.target.composing||(t.contractor_name=n.target.value)}}}),a("p",{staticClass:"text_field_error"},[t._v(t._s(t.nameValidator))])]),a("div",{staticClass:"text_field_wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contractor_phone,expression:"contractor_phone"}],staticClass:"text_field",attrs:{type:"text"},domProps:{value:t.contractor_phone},on:{input:function(n){n.target.composing||(t.contractor_phone=n.target.value)}}}),a("p",{staticClass:"text_field_error"},[t._v(t._s(t.phoneValidator))])])])}),u=[],l=(a("a481"),{name:"ContractorData",props:["id","name","phone"],data:function(){return{phoneValidator:"Введите номер телефона",nameValidator:"Введите имя",contractor_name:null,contractor_phone:null,contractor_id:null}},mounted:function(){this.contractor_name=this.name,this.contractor_phone=this.phone,this.contractor_id=this.id},watch:{contractor_name:function(){this.nameValidator=this.contractor_name?/[^А-ЯA-Zа-яa-z\sЁё]/.test(this.contractor_name)?"Недопустимые символы в имени":"":"Введите имя",""===this.nameValidator&&this.returnData()},contractor_phone:function(){this.phoneValidator=this.contractor_phone?/[^\d\s]/.test(this.contractor_phone)?"Недопустимые символы в номере телефона":/\b\d{11}\b/.test(this.contractor_phone.replace(/\s/g,""))?"":"В номере телефона должно быть 11 цифр":"Введите номер телефона",""===this.phoneValidator&&this.returnData()}},methods:{returnData:function(){this.$emit("return_contractor_data",{id:this.contractor_id,name:this.contractor_name,phone:this.contractor_phone})}}}),d=l,h=(a("48cc"),a("2877")),p=Object(h["a"])(d,i,u,!1,null,"34b8db44",null),f=p.exports,_=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"info"},[a("p",{staticClass:"object"},[a("span",{staticClass:"object_header"},[t._v("Альфа:")]),t._v(" "+t._s(t.block)+" блок")]),a("p",{staticClass:"object"},[a("span",{staticClass:"object_header"},[t._v("Квартира:")]),t._v(" №"+t._s(t.appartament))]),a("p",{staticClass:"object"},[a("span",{staticClass:"object_header"},[t._v("Строительные оси:")]),t._v(" "+t._s(t.constructionAxis))])])},m=[],v={name:"ObjectData",props:["change"],mounted:function(){this.randomObjectData()},watch:{change:function(){this.randomObjectData()},constructionAxis:function(){this.returnData()}},data:function(){return{block:"",appartament:"",constructionAxis:""}},methods:{returnData:function(){this.$emit("return_object_data",{block:this.block,appartament:this.appartament,constructionAxis:this.constructionAxis})},randomObjectData:function(){this.block=Math.floor(5*Math.random()+.5),this.appartament=Math.floor(100*Math.random()-.5),this.constructionAxis=b().toUpperCase()+b()+b()+"-"+Math.round(100*Math.random()-.5)}}};function b(){return String.fromCharCode(Math.floor(-22*Math.random())+119)}var w=v,g=(a("d710"),Object(h["a"])(w,_,m,!1,null,"1e9f1dc4",null)),C=g.exports,x=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"dropdown"},[a("div",{staticClass:"dropdown__header",on:{click:function(n){return t.toggleDropdown(n)}}},[a("span",{staticClass:"table_header"},[t._v("Площадь")]),t._v("...60м"),a("span",{staticClass:"top_index"},[t._v("2")]),a("span",{staticClass:"fa fa-angle-down",attrs:{"aria-hidden":"true"}},[t._v("⏷")]),a("span",{staticClass:"fa fa-angle-up",attrs:{"aria-hidden":"true"}},[t._v("⏶")])]),a("div",{staticClass:"dropdown__content"},[a("table",[t._m(0),t._l(t.rows,function(n){return a("tr",[a("td",[t._v(t._s(n[0]))]),a("td",[t._v(t._s(n[1]))]),a("td",[t._v(t._s(n[2]))])])})],2)])])},j=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("tr",[a("th",[t._v("Жилая")]),a("th",[t._v("Нежилая")]),a("th",[t._v("Площадь с пониж. кооф")])])}],O={name:"TableRooms",props:["change"],data:function(){return{randomData:["Кухня","Коридор","Балкон","Прихожая","Санузел"],rows:[]}},watch:{change:function(){this.rowPush()},rows:function(){this.returnData()}},methods:{returnData:function(){this.$emit("return_table_rows",{rows:this.rows})},rowPush:function(){this.rows=[];for(var t=Math.round(10*Math.random()+1),n=0;n<t;n++)this.rows.push(this.randomRow())},randomRow:function(){for(var t=[],n=0;n<3;n++)t.push(this.randomData[Math.round(Math.random()*(this.randomData.length-1))]);return t},toggleDropdown:function(t){t.currentTarget.classList.toggle("is-active")}}},D=O,M=(a("34eb"),Object(h["a"])(D,x,j,!1,null,"07d97ce1",null)),y=M.exports,k=0,R={name:"app",components:{TableRooms:y,ObjectData:C,ContractorData:f},mounted:function(){this.indexator()},data:function(){return{objectData:[],rooms:[],activeOption:"",options:[{text:"Частная",value:"individual"},{text:"Общественная",value:"communal"},{text:"Корпоративная",value:"corporate"}],contractors:[]}},methods:{dataGenerator:function(){var t=0,n=[];this.activeOption=A(this.options),P().forEach(function(a){n.push({name:a,id:t++,phone:$()})}),this.contractors=n},addContractor:function(){this.contractors.push({id:k++,name:null,phone:null})},addReturnContractor:function(t){var n=this;this.contractors.forEach(function(a){a.id===t.id&&(n.contractors[a.id].phone=t.phone,n.contractors[a.id].name=t.name)})},addReturnTableRows:function(t){this.rooms=t},addReturnObjectData:function(t){this.objectData=t},indexator:function(){var t=this;this.contractors.forEach(function(){t.contractors[k].id=k,k++})},send:function(){this.$http.post("http://localhost:3000/formdata",{activeOption:this.activeOption,contractors:this.contractors,rooms:this.rooms,objectData:this.objectData}).then(function(t){return t.json()}).then(function(t){alert(s()(t))})}}};function P(){for(var t=Math.floor(9*Math.random())+1,n=["Женя","Вася","Петя","Маша","Даша","Саша","Юля","Анна","Игорь"],a=[],o=0;o<t;o++)a.push(n[Math.floor(9*Math.random())]);return a}function $(){for(var t="89",n=0;n<9;n++)t+=Math.floor(9*Math.random());return t}function A(t){return t[Math.floor(3*Math.random())].value}var E=R,T=(a("5c0b"),Object(h["a"])(E,r,e,!1,null,null,null)),V=T.exports,S=a("28dd");o["a"].use(S["a"]),o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(V)}}).$mount("#app")},"5c0b":function(t,n,a){"use strict";var o=a("8fba"),r=a.n(o);r.a},"8fba":function(t,n,a){},c695:function(t,n,a){},cf8d:function(t,n,a){},d710:function(t,n,a){"use strict";var o=a("cf8d"),r=a.n(o);r.a},e028:function(t,n,a){}});
//# sourceMappingURL=app.cffa62cf.js.map